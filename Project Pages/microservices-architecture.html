<!DOCTYPE html>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K011FJJQJG"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-K011FJJQJG');
</script>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Microservices Back-End Architecture</title>
    
    <!-- Google Fonts: JetBrains Mono -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Linked Stylesheet (for theme and core styling) -->
    <link rel="stylesheet" href="../CSS/style.css">
</head>

<body>
<div class="wrapper">
    
    <a href="../index.html" class="back-link"><i class="fas fa-arrow-left mr-2"></i> Back to Projects</a>

    <header>
        <div class="header-meta">
            <h1>Micro Foods Market - Distributed Back-End</h1>
            <p>Project: Microservices Architecture (CSE 380, Spring 2025)</p>
            <div class="meta-tags">
                <span>Flask</span>
                <span>Python</span>
                <span>Docker</span>
                <span>Microservices</span>
                <span>SQLite</span>
                <span>JWT</span>
            </div>
        </div>

        <div class="header-bio">
            <span class="section-label">Overview & Goal</span>
            <p>
                This extensive project required building the complete back-end infrastructure for a grocery store using a Microservices Architecture. The primary challenge was containerizing five separate Flask applications, managing inter-service communication over a shared Docker network, and ensuring secure authentication using JWTs and role-based authorization (employee vs. customer).
            </p>
            <p class="mt-2">
                Each service manages its own data persistence using local SQLite databases, enforcing the principle of decentralized data ownership characteristic of microservices.
            </p>
        </div>
    </header>

    <div class="content-section">
        
        <h2>System Architecture </h2>
        <p>The system was deployed as five separate Docker containers, communicating over a shared bridge network. This separation enforced decoupling and established clear API contracts between services.</p>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4">
            <!-- User Service -->
            <div class="service-card col-span-1">
                <h3><i class="fas fa-user-lock mr-2 text-red-400"></i> 1. User Management</h3>
                <p>Handles user creation, login, password hashing, and JWT generation. Critical for providing authorization checks (employee status) to all other services.</p>
            </div>
            
            <!-- Product Service -->
            <div class="service-card col-span-1">
                <h3><i class="fas fa-box-open mr-2 text-green-400"></i> 2. Product Management</h3>
                <p>Manages the state of all products (name, price, category). Only employees are authorized to create or modify products.</p>
            </div>

            <!-- Search Service -->
            <div class="service-card col-span-1">
                <h3><i class="fas fa-search mr-2 text-blue-400"></i> 3. Product Searching</h3>
                <p>Retrieves product details via name or category. Must query the 'Logging Service' to determine the 'last modified by' user, avoiding data redundancy.</p>
                <p class="mt-2 text-xs"></p>
            </div>
            
            <!-- Ordering Service -->
            <div class="service-card col-span-1">
                <h3><i class="fas fa-shopping-cart mr-2 text-yellow-400"></i> 4. Ordering</h3>
                <p>Processes customer orders (product list + quantities). Responsible for querying Product Management to fetch current prices and calculating the final total cost.</p>
                <p class="mt-2 text-xs"></p>
            </div>
            
            <!-- Logging Service -->
            <div class="service-card col-span-1">
                <h3><i class="fas fa-clipboard-list mr-2 text-purple-400"></i> 5. Logging</h3>
                <p>The centralized sink for all successful system events (login, product edit, order). Employees have elevated permission to view product logs.</p>
                <p class="mt-2 text-xs"></p>
            </div>
        </div>

        <h2 class="mt-6">Key Implementation Challenges</h2>

        <div class="text-content">
            <h3>Inter-Service Authorization Flow</h3>
            <p>
                The primary technical hurdle was implementing secure communication chains. When a customer attempts to edit a product on the Product Management Service, the following internal requests are triggered:
            </p>
            <ol class="list-decimal list-inside ml-4 mt-2 text-sm text-gray-400 space-y-1">
                <li>Client to Product Service: HTTP request with JWT in the header.</li>
                <li>Product Service to User Service (Internal): Requests validation of the JWT and confirmation of employee status.</li>
                <li>User Service: Decodes JWT, checks database for employee status, and returns boolean authorization result.</li>
                <li>Product Service: If authorized, proceeds with the database update and sends a log POST request to the Logging Service.</li>
            </ol>

            <h3>Dockerization and Deployment Pipeline</h3>
            <p class="mt-4">
                The solution required five separate `Dockerfile` configurations (`Dockerfile.users`, etc.) built off the same Python base image. The final deployment relied on a single `compose.yaml` file to orchestrate all five containers onto a shared network, ensuring they could resolve each other by their container names (e.g., `http://user:9000/auth_check`). This setup was essential for achieving a reliable, repeatable test environment.
            </p>
        </div>

    </div>

    <footer>
        <div>Last updated 2025</div>
        <div class="footer-links">
            <a href="https://mehtadak.github.io/resume.pdf" target="_blank">Resume ↗</a>
            <a href="https://github.com/mehtadak" target="_blank">GitHub ↗</a>
            <a href="https://linkedin.com/in/mehtadak" target="_blank">LinkedIn ↗</a>
            <a href="mailto:mehtadak@msu.edu">Email ↗</a>
        </div>
    </footer>

</div>
</body>
</html>